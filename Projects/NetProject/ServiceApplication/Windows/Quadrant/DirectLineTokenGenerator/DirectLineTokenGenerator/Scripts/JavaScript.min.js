function guid() { return s4() + s4() + "-" + s4() + "-" + s4() + "-" + s4() + "-" + s4() + s4() + s4() } function s4() { return Math.floor(65536 * (1 + Math.random())).toString(16).substring(1) } var userId = guid().toUpperCase(), userName = "User-" + Math.floor(1e4 * (1 + Math.random())), user = { id: id, name: userName }, bot = { id: "saibabatempleassistance", name: "saibabatempleassistance" }, botConnection = new BotChat.DirectLine({ token: t, webSocket: !0 }); console.log("Init bot component"), BotChat.App({ botConnection: botConnection, user: user, bot: bot, resize: "detect", chatTitle: "SaiBabaTempleBot", conversation: { id: cid } }, document.getElementById("bot")), 1 == f && botConnection.postActivity({ type: "event", from: user, name: "firstMessage", value: "ping" }).subscribe(e => console.log("Conversation updated")), $(function () { $("div.wc-header").prop("isopen", "true"), $("div.wc-header").click(function () { "true" == $(this).prop("isopen") ? ($("div.wc-chatview-panel").addClass("closechat"), $("div.wc-header").prop("isopen", "false")) : ($("div.wc-chatview-panel.closechat").removeClass("closechat"), $("div.wc-header").prop("isopen", "true")); }); });